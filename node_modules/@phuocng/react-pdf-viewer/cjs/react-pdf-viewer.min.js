"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("react")),n=e(require("react-dom")),r=require("pdfjs-dist"),a=t.createContext({prefixClass:"viewer"}),o=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},c=function(e){var n,r=e.children,c=e.isSelected,l=void 0!==c&&c,i=e.onClick,s=t.useContext(a);return t.createElement("button",{className:o((n={},n[s.prefixClass+"-button"]=!0,n[s.prefixClass+"-button-selected"]=l,n)),onClick:i},r)},l=function(){var e=t.useContext(a);return t.createElement("li",{className:e.prefixClass+"-menu-divider"})},i=function(e){var n=e.children,r=e.size,o=void 0===r?24:r,c=t.useContext(a),l=(o||24)+"px";return t.createElement("svg",{className:c.prefixClass+"-icon",height:l,viewBox:"0 0 24 24",width:l},n)},s=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},u=function(e){var n=e.checked,r=void 0!==n&&n,o=e.children,c=e.icon,l=void 0===c?null:c,i=e.onClick,u=t.useContext(a);return t.createElement("li",{className:u.prefixClass+"-menu-item",onClick:i},t.createElement("div",{className:u.prefixClass+"-menu-item-icon"},l),t.createElement("div",{className:u.prefixClass+"-menu-item-label"},o),t.createElement("div",{className:u.prefixClass+"-menu-item-check"},r&&t.createElement(s,null)))},f=function(e){var n=e.children,r=e.onClick,o=t.useContext(a);return t.createElement("button",{className:o.prefixClass+"-primary-button",onClick:r},n)},m=function(e){var n=e.progress,r=t.useContext(a);return t.createElement("div",{className:r.prefixClass+"-progress-bar"},t.createElement("div",{className:r.prefixClass+"-progress-bar-inner",style:{width:n+"%"}},n,"%"))},p=function(){var e=t.useContext(a);return t.createElement("div",{className:e.prefixClass+"-separator"})},d=function(){var e=t.useContext(a);return t.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},t.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function h(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var v,E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},C=function(e,n,r,c,l){var i,s=t.useContext(a);return t.createElement("div",E({},n.attrs,{className:o((i={},i[s.prefixClass+"-layout-container"]=!0,i[s.prefixClass+"-layout-with-sidebar"]=e,i)),style:n.attrs.style}),n.children,t.createElement("div",{className:s.prefixClass+"-layout-toolbar"},c),t.createElement("div",{className:s.prefixClass+"-layout-sidebar"},l.children),t.createElement("div",E({},r.attrs,{className:s.prefixClass+"-layout-main",style:r.attrs.style}),r.children))},x=function(e){var n=t.useContext(a);return t.createElement("div",{className:n.prefixClass+"-toolbar"},t.createElement("div",{className:n.prefixClass+"-toolbar-left"},t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.toggleSidebarButton),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.searchPopover),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.previousPageButton),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.currentPageInput," / ",e.numPages),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.nextPageButton)),t.createElement("div",{className:n.prefixClass+"-toolbar-center"},t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.zoomOutButton),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.zoomPopover),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.zoomInButton)),t.createElement("div",{className:n.prefixClass+"-toolbar-right"},t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.fullScreenButton),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.openFileButton),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.downloadButton),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.printButton),t.createElement("div",{className:n.prefixClass+"-toolbar-item"},e.moreActionsPopover)))},b=function(e,n){var r=function(t){t.keyCode===e&&n()};t.useEffect((function(){return document.addEventListener("keyup",r),function(){return document.removeEventListener("keyup",r)}}),[])},k=function(e){var n=e.children,r=e.closeOnEscape,o=e.onToggle,c=t.useContext(a),l=t.createRef();return t.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),b(27,(function(){return r&&o()})),t.createElement("div",{className:c.prefixClass+"-modal-body",ref:l},n)},w=function(e){var n=e.children,r=e.closeOnClickOutside,o=e.onClose,c=t.useContext(a);return t.createElement("div",{className:c.prefixClass+"-modal-overlay",onClick:function(e){e.target===e.currentTarget&&r&&o()}},n)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(v||(v={}));var S,y=function(){var e=t.useState(!1),n=e[0],r=e[1];return{opened:n,toggle:function(e){switch(e){case v.Close:r(!1);break;case v.Open:r(!0);break;case v.Toggle:default:r((function(e){return!e}))}}}},M=function(e){var r=e.content,a=e.target,o=y(),c=o.opened,l=o.toggle;return t.createElement(t.Fragment,null,a(l,c),c&&n.createPortal(r(l),document.body))},P=function(e){var n=e.closeOnClickOutside,r=e.closeOnEscape,a=e.content,o=e.target;return t.createElement(M,{target:o,content:function(e){return t.createElement(w,{closeOnClickOutside:n,onClose:e},t.createElement(k,{closeOnEscape:r,onToggle:e},a(e)))}})};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(S||(S={}));var T,N=S,L=function(e,n,r,a){t.useEffect((function(){var t=n.current,o=e.current;if(o&&t){var c=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),c=o.height,l=o.width,i=0,s=0;switch(n){case N.TopLeft:i=a.top-c,s=a.left;break;case N.TopCenter:i=a.top-c,s=a.left+a.width/2-l/2;break;case N.TopRight:i=a.top-c,s=a.left+a.width-l;break;case N.RightTop:i=a.top,s=a.left+a.width;break;case N.RightCenter:i=a.top+a.height/2-c/2,s=a.left+a.width;break;case N.RightBottom:i=a.top+a.height-c,s=a.left+a.width;break;case N.BottomLeft:i=a.top+a.height,s=a.left;break;case N.BottomCenter:i=a.top+a.height,s=a.left+a.width/2-l/2;break;case N.BottomRight:i=a.top+a.height,s=a.left+a.width-l;break;case N.LeftTop:i=a.top,s=a.left-l;break;case N.LeftCenter:i=a.top+a.height/2-c/2,s=a.left-l;break;case N.LeftBottom:i=a.top+a.height-c,s=a.left-l}return{left:s+document.body.scrollLeft+(r.left||0),top:i+document.body.scrollTop+(r.top||0)}}(o,t,r,a),l=c.top,i=c.left;o.style.top=l+"px",o.style.left=i+"px"}}),[])},F=function(e){var n,r=e.customClassName,c=e.position,l=t.useContext(a);return t.createElement("div",{className:o((n={},n[l.prefixClass+"-arrow"]=!0,n[l.prefixClass+"-arrow-tl"]=c===N.TopLeft,n[l.prefixClass+"-arrow-tc"]=c===N.TopCenter,n[l.prefixClass+"-arrow-tr"]=c===N.TopRight,n[l.prefixClass+"-arrow-rt"]=c===N.RightTop,n[l.prefixClass+"-arrow-rc"]=c===N.RightCenter,n[l.prefixClass+"-arrow-rb"]=c===N.RightBottom,n[l.prefixClass+"-arrow-bl"]=c===N.BottomLeft,n[l.prefixClass+"-arrow-bc"]=c===N.BottomCenter,n[l.prefixClass+"-arrow-br"]=c===N.BottomRight,n[l.prefixClass+"-arrow-lt"]=c===N.LeftTop,n[l.prefixClass+"-arrow-lc"]=c===N.LeftCenter,n[l.prefixClass+"-arrow-lb"]=c===N.LeftBottom,n[""+r]=""!==r,n))})},z=function(e){var n=e.children,r=e.closeOnEscape,o=e.offset,c=e.position,l=e.targetRef,i=e.onToggle,s=t.useContext(a),u=t.createRef();return b(27,(function(){return r&&i()})),L(u,l,c,o),t.createElement("div",{className:s.prefixClass+"-popover-body",ref:u},t.createElement(F,{customClassName:s.prefixClass+"-popover-body-arrow",position:c}),n)},B=function(e){var n=e.children,r=e.closeOnClickOutside,o=e.onClose,c=t.useContext(a);return t.useEffect((function(){var e=window.getComputedStyle(document.body).position;return r&&(document.body.style.position="relative"),function(){document.body.style.setProperty("overflow",e)}}),[r]),r?t.createElement("div",{className:c.prefixClass+"-popover-overlay",onClick:function(e){e.target===e.currentTarget&&r&&o()}},n):t.createElement(t.Fragment,null,n)},R=function(e){var n=e.closeOnClickOutside,r=e.closeOnEscape,a=e.content,o=e.offset,c=e.position,l=e.target,i=t.createRef();return t.createElement(M,{content:function(e){return t.createElement(B,{closeOnClickOutside:n,onClose:e},t.createElement(z,{closeOnEscape:r,offset:o,position:c,targetRef:i,onToggle:e},a(e)))},target:function(e,n){return t.createElement("div",{ref:i},l(e,n))}})},O=function(e){var n=e.children,r=e.offset,o=e.position,c=e.targetRef,l=t.useContext(a),i=t.createRef();return L(i,c,o,r),t.createElement("div",{className:l.prefixClass+"-tooltip-body",ref:i},t.createElement(F,{customClassName:l.prefixClass+"-tooltip-body-arrow",position:o}),t.createElement("div",{className:l.prefixClass+"-tooltip-body-content"},n))},D=function(e){var n=e.content,r=e.offset,a=e.position,o=e.target,c=t.createRef();return t.createElement(M,{target:function(e){return t.createElement("div",{ref:c,onMouseEnter:function(){e(v.Open)},onMouseLeave:function(){e(v.Close)}},o)},content:function(){return t.createElement(O,{offset:r,position:a,targetRef:c},n())}})};!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical",e.Wrapped="Wrapped"}(T||(T={}));var H,I=T;!function(e){e[e.Hand=0]="Hand",e[e.Text=1]="Text"}(H||(H={}));var V,W=H;!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(V||(V={}));var A,J=V;!function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(A||(A={}));var _,j={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},q={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Z={ExitFullScreen:"msExitFullscreen",FullScreenChange:"MSFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},U="undefined"!=typeof window,G=U&&(A.FullScreenEnabled in document&&j||q.FullScreenEnabled in document&&q||Z.FullScreenEnabled in document&&Z)||j,K=function(e){return U?e[G.ExitFullScreen]():Promise.resolve({})},X=function(){return U?document[G.FullScreenElement]:null},Y=function(e){var n=t.useState(!1),r=n[0],a=n[1],o=function(){var t=X();a(t===e.current)};return t.useEffect((function(){var e;return e=o,U&&document.addEventListener(G.FullScreenChange,e),function(){!function(e){U&&document.removeEventListener(G.FullScreenChange,e)}(o)}}),[e.current]),{closeFullScreen:function(){var t=X();r&&t&&t===e.current&&K(document)},isFullScreen:r,openFullScreen:function(){var t;(t=X(),t&&t!==e.current?K(t):Promise.resolve()).then((function(){var t;e.current&&(t=e.current,U&&t[G.RequestFullScreen]())}))}}},Q=function(e){var n=e.children,r=e.threshold,a=e.onVisibilityChanged,o=t.useRef(null);return t.useEffect((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:r||0}),t=o.current;if(t)return e.observe(t),function(){e.unobserve(t)}}),[]),t.createElement("div",{ref:o},n)},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){e.getPageIndex(t[0]).then((function(e){var r=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":return{bottomOffset:0,pageIndex:e-1,scaleTo:J.PageFit};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e,t);n(r)}))}))}))},ee=function(e){var n=e.callback,r=e.children,a=e.rotation,o=e.scale;return t.useEffect((function(){n()}),[a,o]),t.createElement(t.Fragment,null,r)},te=function(e){var n=e.doc,o=e.page,c=e.rotation,l=e.scale,i=e.onJumpToDest,s=t.createRef(),u=t.useContext(a);return t.createElement(ee,{callback:function(){var e=s.current;e&&(e.innerHTML="");var t=o.getViewport({rotation:c,scale:l});o.getAnnotations({intent:"display"}).then((function(a){if(0!==a.length){var c={getDestinationHash:function(e){return"string"==typeof e?"#"+escape(e):"#"+escape(JSON.stringify(e))},navigateTo:function(e){$(n,e).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;i(t+1,n,r)}))}},l=t.clone({dontFlip:!0});r.AnnotationLayer.render({annotations:a,div:e,linkService:c,page:o,viewport:l})}}))},rotation:c,scale:l},t.createElement("div",{className:u.prefixClass+"-annotation-layer",ref:s}))},ne=function(e){var n=e.height,r=e.page,o=e.rotation,c=e.scale,l=e.width,i=t.useContext(a),s=t.createRef(),u=t.useRef();return t.createElement(ee,{callback:function(){var e=u.current;e&&e.cancel();var t=s.current.getContext("2d"),n=r.getViewport({rotation:o,scale:c});u.current=r.render({canvasContext:t,viewport:n}),u.current.promise.then((function(){}),(function(){}))},rotation:o,scale:c},t.createElement("canvas",{className:i.prefixClass+"-canvas-layer",height:n,ref:s,width:l}))},re=function(e){var t=e.parentNode;t&&t.removeChild(e)},ae=function(e){var t=e.parentNode;if(t){var n=document.createRange();n.selectNodeContents(e),function(e,t){re(e);var n=t.parentNode;n&&n.insertBefore(e,t),re(t)}(n.extractContents(),e),t.normalize()}},oe=function(e){var n=e.keywordRegexp,o=e.match,c=e.page,l=e.pageIndex,i=e.rotation,s=e.scale,u=e.onJumpToMatch,f=t.useContext(a),m=t.createRef(),p=t.useRef(),d=t.useRef(!1),g=function(e){var t=e.textContent;if(n.source.trim()&&t){var r=t.search(n),a=e.firstChild;if(-1!==r&&a)(function(e,t,n){var r=new Range;r.setStart(e,t),r.setEnd(e,n);var a=document.createElement("span");return r.surroundContents(a),a})(a,r,r+n.source.length).classList.add(f.prefixClass+"-text-highlight")}},h=function(){var e=m.current;if(e)for(var t=e.querySelectorAll("span."+f.prefixClass+"-text-highlight"),n=t.length,r=0;r<n;r++)ae(t[r])},v=function(){var e=m.current;if(o.pageIndex===l&&e){var t=e.querySelectorAll("span."+f.prefixClass+"-text-highlight");if(o.matchIndex<t.length){var n=function(e,t){for(var n=e.offsetTop,r=e.offsetLeft,a=e.parentElement;a&&a!==t;)n+=a.offsetTop,r+=a.offsetLeft,a=a.parentElement;return{left:r,top:n}}(t[o.matchIndex],e),r=n.top,a=n.left;u(l,r/s,a/s)}}};return t.useEffect((function(){var e=m.current;if(n&&d.current&&e&&(h(),n.source.trim()))for(var t=e.querySelectorAll("span."+f.prefixClass+"-text"),r=t.length,a=0;a<r;a++)g(t[a])}),[n,d.current]),t.useEffect((function(){d.current&&v()}),[o]),t.createElement(ee,{callback:function(){var e=p.current;e&&e.cancel();var t=m.current;if(t){var a=c.getViewport({rotation:i,scale:s});d.current=!1,c.getTextContent().then((function(e){!function(){var e=m.current;if(e)for(var t=e.querySelectorAll("span."+f.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=r.renderTextLayer({container:t,textContent:e,viewport:a}),p.current.promise.then((function(){d.current=!0;var e=t.childNodes,r=e.length;n&&h();for(var a=0;a<r;a++){var o=e[a];o.classList.add(f.prefixClass+"-text"),n&&g(o)}v()}),(function(){}))}))}},rotation:i,scale:s},t.createElement("div",{className:f.prefixClass+"-text-layer",ref:m}))},ce=function(e){var n=e.doc,r=e.height,o=e.keywordRegexp,c=e.match,l=e.pageIndex,i=e.rotation,s=e.scale,u=e.width,f=e.onJumpToDest,m=e.onPageVisibilityChanged,p=t.useContext(a),g=t.useState({isCalculated:!1,page:null,pageHeight:r,pageWidth:u}),h=g[0],v=g[1],E=h.isCalculated,C=h.page,x=h.pageHeight,b=h.pageWidth,k=Array(10).fill(null).map((function(e,t){return t/10})),w=b*s,S=x*s,y=Math.abs(i)%180==0,M=y?w:S,P=y?S:w;return t.createElement(Q,{onVisibilityChanged:function(e){var t=e.isVisible?e.ratio:0;m(l,t),e.isVisible&&!E&&n.getPage(l+1).then((function(e){var t=e.getViewport({scale:1});v({isCalculated:!0,page:e,pageHeight:t.height,pageWidth:t.width})}))},threshold:k},t.createElement("div",{className:p.prefixClass+"-page-layer",style:{height:P+"px",width:M+"px"}},C?t.createElement(t.Fragment,null,t.createElement(ne,{height:P,page:C,rotation:i,scale:s,width:M}),t.createElement(oe,{keywordRegexp:o,match:c,page:C,pageIndex:l,rotation:i,scale:s,onJumpToMatch:function(e,t,n){f(e,x-t,s)}}),t.createElement(te,{doc:n,page:C,rotation:i,scale:s,onJumpToDest:f})):t.createElement(d,null)))},le=t.createContext({}),ie=function(){var e=t.useContext(le),n=t.useContext(a);return t.createElement("div",{className:n.prefixClass+"-drop-area"},e.main.dragDropFile)},se=function(e){var n=e.numLoadedPages,r=e.numPages,o=e.onCancel,c=e.onStartPrinting,l=t.useContext(le),i=t.useContext(a),s=Math.floor(100*n/r);return t.useEffect((function(){n===r&&c()}),[n]),t.createElement("div",{className:i.prefixClass+"-print-progress"},t.createElement("div",{className:i.prefixClass+"-print-progress-inner"},t.createElement("div",{className:i.prefixClass+"-print-progress-message"},l.printProgress.preparingDocument),t.createElement("div",{className:i.prefixClass+"-print-progress-bar"},t.createElement(m,{progress:s})),t.createElement(f,{onClick:o},l.printProgress.cancel)))};!function(e){e.Inactive="Inactive",e.Preparing="Preparing",e.Cancelled="Cancelled",e.Ready="Ready"}(_||(_={}));var ue,fe=_,me=function(e){var n=e.page,r=e.pageHeight,o=e.pageWidth,c=e.rotation,l=e.onLoad,i=t.useContext(a),s=t.useRef(),u=t.useState(""),f=u[0],m=u[1];return t.useEffect((function(){var e=s.current;e&&e.cancel();var t=document.createElement("canvas");t.height=Math.floor(r*(150/72)),t.width=Math.floor(o*(150/72));var a=t.getContext("2d");a.save(),a.fillStyle="rgb(255, 255, 255)",a.fillRect(0,0,t.width,t.height),a.restore();var l=n.getViewport({rotation:c,scale:1});s.current=n.render({canvasContext:a,intent:"print",transform:[150/72,0,0,150/72,0,0],viewport:l}),s.current.promise.then((function(){"toBlob"in t?t.toBlob((function(e){m(URL.createObjectURL(e))})):m(t.toDataURL())}),(function(){}))}),[]),f?t.createElement("div",{className:i.prefixClass+"-print-page-thumbnail",style:{height:Math.floor(96*r/72)+"px",width:Math.floor(96*o/72)+"px"}},t.createElement("img",{src:f,style:{height:Math.floor(96*r/72)+"px",width:Math.floor(96*o/72)+"px"},onLoad:l})):t.createElement(d,null)},pe=function(e){var n=e.doc,r=e.pageHeight,a=e.pageIndex,o=e.pageWidth,c=e.rotation,l=e.onLoad,i=t.useState({height:r,page:null,width:o}),s=i[0],u=i[1],f=s.page,m=s.height,p=s.width,g=Math.abs(c)%180==0;return t.useEffect((function(){n.getPage(a+1).then((function(e){var t=e.getViewport({scale:1});u({height:t.height,page:e,width:t.width})}))}),[]),f?t.createElement(me,{page:f,pageHeight:g?m:p,pageWidth:g?p:m,rotation:c,onLoad:l}):t.createElement(d,null)},de=function(e){var r=e.doc,o=e.pageHeight,c=e.pageWidth,l=e.printStatus,i=e.rotation,s=e.onCancel,u=e.onLoad,f=t.useContext(a),m=t.useState(0),p=m[0],d=m[1];t.useEffect((function(){l===fe.Ready&&(document.body.classList.add(f.prefixClass+"-body-printing"),window.print());var e=function(){l===fe.Ready&&(document.body.classList.remove(f.prefixClass+"-body-printing"),s())};return document.addEventListener("mousemove",e),function(){return document.removeEventListener("mousemove",e)}}),[l]);var g=r.numPages,h=function(){var e=p+1;d(e),u(e)};return n.createPortal(t.createElement(t.Fragment,null,t.createElement("div",{className:f.prefixClass+"-print-zone"},Array(g).fill(0).map((function(e,n){return t.createElement(pe,{key:n,doc:r,pageHeight:o,pageIndex:n,pageWidth:c,rotation:i,onLoad:h})}))),t.createElement("style",{dangerouslySetInnerHTML:{__html:"\n                            @supports ((size:A4) and (size:1pt 1pt)) {\n                                @page { size: "+c+"pt "+o+"pt }\n                            }\n                        "}})),document.body)},ge=function(e){var n=e.doc,r=e.pageHeight,a=e.pageWidth,o=e.printStatus,c=e.rotation,l=e.onCancel,i=e.onStartPrinting,s=t.useState(0),u=s[0],f=s[1],m=function(){f(0),l()};return t.createElement(t.Fragment,null,o===fe.Preparing&&t.createElement(se,{numLoadedPages:u,numPages:n.numPages,onCancel:m,onStartPrinting:function(){f(0),i()}}),(o===fe.Preparing||o===fe.Ready)&&t.createElement(de,{doc:n,pageHeight:r,pageWidth:a,printStatus:o,rotation:c,onCancel:m,onLoad:f}))},he=function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e},ve=function(e,t){var n="string"==typeof t?"":URL.createObjectURL(new Blob([t],{type:""})),r=document.createElement("a");r.style.display="none",r.href=n||e,r.setAttribute("download",he(e)),document.body.appendChild(r),r.click(),document.body.removeChild(r),n&&URL.revokeObjectURL(n)},Ee=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M10.515,9.514h3c0.552,0,1,0.448,1,1v3c0,0.552-0.448,1-1,1h-3c-0.552,0-1-0.448-1-1v-3\n                C9.515,9.962,9.963,9.514,10.515,9.514z\n                M0.531,23.499l6.984-6.985\n                M16.515,7.514L23.5,0.529\n                M21.515,7.514h-5v-5\n                M7.515,21.514v-5 h-5\n                M0.523,0.521l6.992,6.993\n                M16.515,16.514l6.985,6.985\n                M16.515,21.514v-5h5\n                M2.515,7.514h5v-5"}))},Ce=function(e){var n=e.onClick,r=t.useContext(a);return t.createElement("div",{className:r.prefixClass+"-exit-fullscreen"},t.createElement("div",{className:r.prefixClass+"-exit-fullscreen-inner"},t.createElement(c,{onClick:n},t.createElement(Ee,null))))},xe=function(e){var n=e.files,r=t.useContext(le),o=t.useContext(a);return 0===n.length?t.createElement("div",{className:o.prefixClass+"-attachment-list-empty"},r.attachment.noAttachment):t.createElement("ul",{className:o.prefixClass+"-attachment-list"},n.map((function(e){return t.createElement("li",{className:o.prefixClass+"-attachment-item",key:"attachment-"+e.fileName,title:""+r.attachment.clickToDownload,onClick:function(){return ve(e.fileName,e.data)}},e.fileName)})))},be=function(e){var n=e.doc,r=t.useState({files:[],isLoaded:!1}),a=r[0],o=r[1];return t.useEffect((function(){n.getAttachments().then((function(e){var t=e?Object.keys(e).map((function(t){return{data:e[t].content,fileName:e[t].filename}})):[];o({files:t,isLoaded:!0})}))}),[]),a.isLoaded?t.createElement(xe,{files:a.files}):t.createElement(d,null)},ke=function(e){var n=e.bookmark,r=e.depth,o=e.doc,c=e.onClick,l=e.onJumpToDest,i=t.useContext(a),s=t.createRef(),u=t.createRef(),f=t.useRef(!0),m=n.items&&n.items.length>0;return t.createElement(t.Fragment,null,t.createElement("div",{className:i.prefixClass+"-bookmark-item",style:{paddingLeft:20*r+4+"px"},onClick:function(){m||c(n.dest)}},m&&t.createElement("span",{ref:s,className:i.prefixClass+"-bookmark-toggle",onClick:function(){f.current=!f.current;var e=u.current,t=s.current;e&&t&&(e.style.display=f.current?"block":"none",t.classList.toggle(i.prefixClass+"-bookmark-toggle-expanded"))}},"►"),t.createElement("div",{className:i.prefixClass+"-bookmark-title",onClick:function(){m&&c(n.dest)}},n.title)),m&&t.createElement("div",{ref:u},t.createElement(we,{bookmarks:n.items,depth:r+1,doc:o,onJumpToDest:l})))},we=function(e){var n=e.bookmarks,r=e.depth,o=void 0===r?0:r,c=e.doc,l=e.onJumpToDest,i=t.useContext(a),s=function(e){$(c,e).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;l(t+1,n,r)}))};return t.createElement("ul",{className:i.prefixClass+"-bookmark-list"},n.map((function(e,n){return t.createElement("li",{key:n},t.createElement(ke,{bookmark:e,depth:o,doc:c,onClick:s,onJumpToDest:l}))})))},Se=function(e){var n=e.doc,r=e.onJumpToDest,o=t.useContext(le),c=t.useContext(a),l=t.useState({isLoaded:!1,items:[]}),i=l[0],s=l[1];return t.useEffect((function(){n.getOutline().then((function(e){s({isLoaded:!0,items:e||[]})}))}),[]),i.isLoaded?0===i.items.length?t.createElement("div",{className:c.prefixClass+"-bookmark-empty"},o.bookmark.noBookmark):t.createElement(we,{bookmarks:i.items,depth:0,doc:n,onJumpToDest:r}):t.createElement(d,null)},ye=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n                M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n                c0.552,0,1,0.448,1,1L11.5,10.5z\n                M14.5,6.499h6\n                M14.5,10.499h6\n                M3.5,14.499h17\n                M3.5,18.499h16.497"}))},Me=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n                c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n                L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"}))},Pe=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n                M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n                M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n                M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},Te=function(e){var n=e.page,r=e.pageHeight,a=e.pageWidth,o=e.rotation,c=e.thumbnailHeight,l=e.thumbnailWidth,i=t.useRef(),s=t.useState(""),u=s[0],f=s[1];return t.useEffect((function(){var e=i.current;e&&e.cancel();var t=document.createElement("canvas"),c=t.getContext("2d",{alpha:!1}),s=l,u=s/(a/r),m=s/a;t.height=u,t.width=s,t.style.height=u+"px",t.style.width=s+"px";var p=n.getViewport({rotation:o,scale:m});i.current=n.render({canvasContext:c,viewport:p}),i.current.promise.then((function(){return f(t.toDataURL())}),(function(){}))}),[o]),u?t.createElement("img",{src:u,height:c+"px",width:l+"px"}):t.createElement(d,null)},Ne=function(e){var n=e.doc,r=e.pageHeight,o=e.pageIndex,c=e.pageWidth,l=e.rotation,i=t.useContext(a),s=t.useState({height:r,isCalculated:!1,page:null,width:c}),u=s[0],f=s[1],m=u.isCalculated,p=u.page,g=u.height,h=u.width,v=h/g,E=Math.abs(l)%180==0,C=E?100:100/v,x=E?100/v:100;return t.createElement(Q,{onVisibilityChanged:function(e){e.isVisible&&!m&&n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});f({height:t.height,isCalculated:!0,page:e,width:t.width})}))}},t.createElement("div",{className:i.prefixClass+"-thumbnail-container",style:{height:x+"px",width:C+"px"}},p?t.createElement(Te,{page:p,pageHeight:E?g:h,pageWidth:E?h:g,rotation:l,thumbnailHeight:x,thumbnailWidth:C}):t.createElement(d,null)))},Le=function(e){var n=e.currentPage,r=e.doc,c=e.pageHeight,l=e.pageWidth,i=e.rotation,s=e.onJumpToPage,u=t.useContext(a),f=r.numPages;return t.createElement(t.Fragment,null,Array(f).fill(0).map((function(e,a){var f;return t.createElement("div",{key:"thumbnail-"+a},t.createElement("div",{className:o((f={},f[u.prefixClass+"-thumbnail"]=!0,f[u.prefixClass+"-thumbnail-selected"]=n===a,f)),onClick:function(){return s(a)}},t.createElement(Ne,{doc:r,pageHeight:c,pageIndex:a,pageWidth:l,rotation:i})))})))};!function(e){e.Attachment="Attachment",e.Bookmark="Bookmark",e.Thumbnail="Thumbnail"}(ue||(ue={}));var Fe={left:0,top:8},ze=function(e){var n,r=e.currentPage,l=e.doc,i=e.height,s=e.rotation,u=e.width,f=e.onJumpToDest,m=e.onJumpToPage,p=t.useContext(le),d=t.useContext(a),g=t.useState(ue.Thumbnail),h=g[0],v=g[1];return t.createElement("div",{className:d.prefixClass+"-sidebar"},t.createElement("div",{className:d.prefixClass+"-sidebar-tabs"},t.createElement("div",{className:d.prefixClass+"-sidebar-tab"},t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return v(ue.Thumbnail)},isSelected:h===ue.Thumbnail},t.createElement(Pe,null)),content:function(){return p.sidebar.thumbnail},offset:Fe})),t.createElement("div",{className:d.prefixClass+"-sidebar-tab"},t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return v(ue.Bookmark)},isSelected:h===ue.Bookmark},t.createElement(ye,null)),content:function(){return p.sidebar.bookmark},offset:Fe})),t.createElement("div",{className:d.prefixClass+"-sidebar-tab"},t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return v(ue.Attachment)},isSelected:h===ue.Attachment},t.createElement(Me,null)),content:function(){return p.sidebar.attachment},offset:Fe}))),t.createElement("div",{className:o((n={},n[d.prefixClass+"-sidebar-content"]=!0,n[d.prefixClass+"-sidebar-thumbnails"]=h===ue.Thumbnail,n))},h===ue.Thumbnail&&t.createElement(Le,{currentPage:r,doc:l,pageHeight:i,pageWidth:u,rotation:s,onJumpToPage:m}),h===ue.Bookmark&&t.createElement(Se,{doc:l,onJumpToDest:f}),h===ue.Attachment&&t.createElement(be,{doc:l})))},Be=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n                c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n                C1.96,3.016,2.138,2.966,2.32,2.966z"}))},Re=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M17.5,11.5c3.314,0,6,2.686,6,6s-2.686,6-6,6s-6-2.686-6-6S14.186,11.5,17.5,11.5z\n                M17.5,14.5v6\n                M17.5,20.5\n                l-2.25-2.25\n                M17.5,20.5l2.25-2.25\n                M10.5,23.5h-9c-0.552,0-1-0.448-1-1v-21c0-0.552,0.448-1,1-1h13.293\n                c0.265,0,0.52,0.105,0.707,0.293L19.207,4.5C19.395,4.687,19.5,4.942,19.5,5.207V8.5"}))},Oe=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M15.5,8.499l8-8\n                M0.5,23.499l8-8\n                M5.5,23.499h-5v-5\n                M23.5,5.499v-5h-5\n                M15.5,15.499l8,8\n                M0.5,0.499l8,8\n                M0.5,5.499v-5h5\n                M18.5,23.499h5v-5"}))},De=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\n                c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\n                c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\n                c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6"}))},He=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n                M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n                M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z"}))},Ie=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\n                M14.5,17.005H13\n                c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\n                M11.745,6.504L11.745,6.504\n                M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\n                S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5"}))},Ve=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M1.5,0.497h20c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-20c-0.552,0-1-0.448-1-1v-20\n                C0.5,0.945,0.948,0.497,1.5,0.497z\n                M7.5,0.497v22"}))},We=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n                L23.541,5.627"}))},Ae=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n                L0.535,18.373"}))},Je=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\n                c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\n                M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\n                C18.395,3.394,18.5,3.649,18.5,3.914V4.5\n                M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\n                M3.5,8.499\n                c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\n                M14.5,0.499v4h4"}))},_e=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274\n                M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863\n                M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711\n                M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2\n                M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431\n                M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945\n                M13.5,1.75L10,4.25l3.5,2.5"}))},je=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274\n                M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863\n                M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713\n                M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2\n                M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431\n                M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945\n                M10.5,1.75l3.5,2.5l-3.5,2.5"}))},qe=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\n                L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\n                c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\n                l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z"}))},Ze=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n                c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n                C22.143,20.984,21.965,21.034,21.783,21.034z"}))},Ue=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z\n                M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z\n                M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z"}))},Ge=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n                M23.5,23.499\n                l-5.929-5.929\n                M5.5,10.499h10\n                M10.5,5.499v10"}))},Ke=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n                M23.5,23.499\n                l-5.929-5.929\n                M5.5,10.499h10"}))},Xe=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M4.5,8.5H14\n                M4.5,11.5h6\n                M4.5,5.5h7\n                M4.5,14.5h4\n                M4.5,17.5h4\n                M10.5,23.5h-9c-0.552,0-1-0.448-1-1v-21\n                c0-0.552,0.448-1,1-1h13.293c0.265,0,0.52,0.105,0.707,0.293L19.207,4.5C19.395,4.687,19.5,4.942,19.5,5.207V8.5\n                M17.5,11.5\n                c3.314,0,6,2.686,6,6s-2.686,6-6,6s-6-2.686-6-6S14.186,11.5,17.5,11.5z\n                M17.5,20.5v-6\n                M17.5,14.5l-2.25,2.25\n                M17.5,14.5l2.25,2.25"}))},Ye={left:0,top:8},Qe=function(e){var n=e.onOpenFiles,r=t.useContext(le),o=t.useContext(a);return t.createElement(D,{position:N.BottomCenter,target:t.createElement("div",{className:o.prefixClass+"-open-file"},t.createElement("input",{className:o.prefixClass+"-open-file-input",multiple:!1,type:"file",title:"",onChange:function(e){var t=e.target.files;t&&n(t)}}),t.createElement(Xe,null)),content:function(){return r.toolbar.openFile},offset:Ye})},$e=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),et=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},tt=function(e){var n=e.doc,r=e.render,o=t.useContext(a),c=t.useState(),l=c[0],i=c[1];return t.useEffect((function(){n.getMetadata().then((function(e){return Promise.resolve(e)})).then((function(e){return n.getDownloadInfo().then((function(t){return Promise.resolve({fileName:e.contentDispositionFilename||"",info:e.info,length:t.length})}))})).then((function(e){i(e)}))}),[]),l?r(l):t.createElement("div",{className:o.prefixClass+"-properties-loader"},t.createElement(d,null))},nt=function(e){var n=e.label,r=e.value,o=t.useContext(a);return t.createElement("dl",{className:o.prefixClass+"-property-item"},t.createElement("dt",{className:o.prefixClass+"-property-item-label"},n,":"),t.createElement("dd",{className:o.prefixClass+"-property-item-value"},r||"-"))},rt=function(e){var n=e.doc,r=e.fileName,o=e.onToggle,c=t.useContext(le),l=t.useContext(a),i=function(e){var t=function(e){var t=$e.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=et(t[2],1,12,1)-1,a=et(t[3],1,31,1),o=et(t[4],0,23,0),c=et(t[5],0,59,0),l=et(t[6],0,59,0),i=t[7]||"Z",s=et(t[8],0,23,0),u=et(t[9],0,59,0);switch(i){case"-":o+=s,c+=u;break;case"+":o-=s,c-=u}return new Date(Date.UTC(n,r,a,o,c,l))}(e);return t?t.toLocaleDateString()+", "+t.toLocaleTimeString():""};return t.createElement("div",{className:l.prefixClass+"-properties-modal"},t.createElement(tt,{doc:n,render:function(e){return t.createElement(t.Fragment,null,t.createElement("div",{className:l.prefixClass+"-properties-modal-group"},t.createElement(nt,{label:""+c.property.fileName,value:e.fileName||he(r)}),t.createElement(nt,{label:""+c.property.fileSize,value:(a=e.length,o=Math.floor(Math.log(a)/Math.log(1024)),(a/Math.pow(1024,o)).toFixed(2)+" "+["B","kB","MB","GB","TB"][o])})),t.createElement(p,null),t.createElement("div",{className:l.prefixClass+"-properties-modal-group"},t.createElement(nt,{label:""+c.property.title,value:e.info.Title}),t.createElement(nt,{label:""+c.property.author,value:e.info.Author}),t.createElement(nt,{label:""+c.property.subject,value:e.info.Subject}),t.createElement(nt,{label:""+c.property.keywords,value:e.info.Keywords}),t.createElement(nt,{label:""+c.property.creator,value:e.info.Creator}),t.createElement(nt,{label:""+c.property.creationDate,value:i(e.info.CreationDate)}),t.createElement(nt,{label:""+c.property.modificationDate,value:i(e.info.ModDate)})),t.createElement(p,null),t.createElement("div",{className:l.prefixClass+"-properties-modal-group"},t.createElement(nt,{label:""+c.property.pdfProducer,value:e.info.Producer}),t.createElement(nt,{label:""+c.property.pdfVersion,value:e.info.PDFFormatVersion}),t.createElement(nt,{label:""+c.property.pageCount,value:""+n.numPages})));var a,o}}),t.createElement("div",{className:l.prefixClass+"-properties-modal-footer"},t.createElement(f,{onClick:o},c.property.close)))},at=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\n                M23.5,23.5\n                l-5.929-5.929"}))},ot=new RegExp(" "),ct={left:0,top:8},lt=function(e){var n=e.doc,r=e.onJumpToMatch,o=e.onSearchFor,l=t.useContext(a),i=n.numPages,s=Array(i).fill(0).map((function(e,t){return t})),u=t.useContext(le),m=t.useState(""),p=m[0],d=m[1],g=t.useState([]),h=g[0],v=g[1],E=t.useState(0),C=E[0],x=E[1],b=t.useState(!1),k=b[0],w=b[1],S=t.useState(!1),y=S[0],M=S[1],P=t.useRef([]),T=function(e){d(e.target.value)},L=function(e,t,a){var c,l=function(e,t,n){return new RegExp(n?" "+e+" ":e,t?"g":"gi")}(e,t,a);o(l),x(0),v([]),(0===P.current.length?(c=s.map((function(e){return n.getPage(e+1).then((function(e){return e.getTextContent()})).then((function(t){var n=t.items.map((function(e){return e.str||""})).join("");return Promise.resolve({pageContent:n,pageIndex:e})}))})),Promise.all(c).then((function(e){return e.sort((function(e,t){return e.pageIndex-t.pageIndex})),Promise.resolve(e.map((function(e){return e.pageContent})))}))).then((function(e){return P.current=e,Promise.resolve(e)})):Promise.resolve(P.current)).then((function(e){var t=[];e.forEach((function(e,n){for(var r=(e.match(l)||[]).length,a=0;a<r;a++)t.push({matchIndex:a,pageIndex:n})})),v(t),t.length>0&&(x(1),r(t[0]))}))},F=function(e){13===e.keyCode&&p&&L(p,k,y)},z=function(){var e=C-1,t=e>0?e:h.length;x(t),r(h[t-1])},B=function(){var e=C+1,t=e<=h.length?e:1;x(t),r(h[t-1])},O=function(e){var t=e.target.checked;w(t),p&&L(p,t,y)},H=function(e){var t=e.target.checked;M(t),p&&L(p,k,t)},I=function(){return u.toolbar.search},V=function(){return u.search.previousMatch},W=function(){return u.search.nextMatch};return t.createElement(R,{position:N.BottomLeft,target:function(e,n){return t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:e,isSelected:n},t.createElement(at,null)),content:I,offset:ct})},content:function(e){return t.createElement("div",{className:l.prefixClass+"-search-popover"},t.createElement("div",{className:l.prefixClass+"-search-popover-input-counter"},t.createElement("input",{className:l.prefixClass+"-search-popover-input",placeholder:""+u.search.enterToSearch,type:"text",value:p,onChange:T,onKeyDown:F}),t.createElement("div",{className:l.prefixClass+"-search-popover-counter"},C,"/",h.length)),t.createElement("label",{className:l.prefixClass+"-search-popover-label"},t.createElement("input",{className:l.prefixClass+"-search-popover-label-checkbox",checked:k,type:"checkbox",onChange:O})," ",u.search.matchCase),t.createElement("label",{className:l.prefixClass+"-search-popover-label"},t.createElement("input",{className:l.prefixClass+"-search-popover-label-checkbox",checked:y,type:"checkbox",onChange:H})," ",u.search.wholeWords),t.createElement("div",{className:l.prefixClass+"-search-popover-footer"},t.createElement("div",{className:l.prefixClass+"-search-popover-footer-item"},t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:z},t.createElement(Ae,null)),content:V,offset:ct})),t.createElement("div",{className:l.prefixClass+"-search-popover-footer-item"},t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:B},t.createElement(We,null)),content:W,offset:ct})),t.createElement("div",{className:l.prefixClass+"-search-popover-footer-button"},t.createElement(f,{onClick:function(){e(),o(ot),d(""),x(0),v([]),w(!1),M(!1)}},u.search.close))))},offset:ct,closeOnClickOutside:!1,closeOnEscape:!0})},it=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],st=function(e){var t=it.findIndex((function(t){return t>=e}));return-1===t||0===t?e:it[t-1]},ut=function(e){var n=e.children,r=t.useContext(a);return t.createElement("ul",{className:r.prefixClass+"-menu"},n)},ft=[.5,.75,1,1.25,1.5,2,3,4],mt={left:0,top:8},pt=function(e){var n=e.scale,r=e.onZoom,o=t.useContext(le),c=t.useContext(a);return t.createElement(R,{position:N.BottomCenter,target:function(e){return t.createElement("span",{className:c.prefixClass+"-zoom-popover-target",onClick:function(){e()}},t.createElement("span",{className:c.prefixClass+"-zoom-popover-target-scale"},Math.round(100*n),"%"),t.createElement("span",{className:c.prefixClass+"-zoom-popover-target-arrow"}))},content:function(e){return t.createElement(ut,null,Object.keys(J).map((function(n){var a=n;return t.createElement(u,{key:a,onClick:function(){e(),r(a)}},function(e){switch(e){case J.ActualSize:return o.zoom.actualSize;case J.PageFit:return o.zoom.pageFit;case J.PageWidth:return o.zoom.pageWidth}}(a))})),t.createElement(l,null),ft.map((function(n){return t.createElement(u,{key:n,onClick:function(){e(),r(n)}},Math.round(100*n)+"%")})))},offset:mt,closeOnClickOutside:!0,closeOnEscape:!0})},dt=function(){return t.createElement(i,{size:16},t.createElement("path",{d:"M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z\n                M12,9.5\n                c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z\n                M12,18.5c1.381,0,2.5,1.119,2.5,2.5\n                s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z"}))},gt={left:0,top:8},ht=function(e){var n=e.doc,r=e.fileName,a=e.scrollMode,o=e.selectionMode,i=e.onChangeScrollMode,s=e.onChangeSelectionMode,f=e.onJumpToFirstPage,m=e.onJumpToLastPage,p=e.onRotate,d=t.useContext(le),g=function(){return d.toolbar.moreActions},h=function(e){return t.createElement(u,{icon:t.createElement(Ie,null),onClick:e},d.toolbar.documentProperties)},v=function(e){return t.createElement(rt,{doc:n,fileName:r,onToggle:e})};return t.createElement(R,{position:N.BottomRight,target:function(e,n){return t.createElement(D,{position:N.BottomRight,target:t.createElement(c,{onClick:e,isSelected:n},t.createElement(dt,null)),content:g,offset:gt})},content:function(e){var n=function(t){e(),i(t)};return t.createElement(ut,null,t.createElement(u,{icon:t.createElement(Ze,null),onClick:function(){e(),f()}},d.toolbar.goToFirstPage),t.createElement(u,{icon:t.createElement(Be,null),onClick:function(){e(),m()}},d.toolbar.goToLastPage),t.createElement(l,null),t.createElement(u,{icon:t.createElement(je,null),onClick:function(){e(),p(90)}},d.toolbar.rotateForward),t.createElement(u,{icon:t.createElement(_e,null),onClick:function(){e(),p(-90)}},d.toolbar.rotateBackward),t.createElement(l,null),t.createElement(u,{checked:o===W.Text,icon:t.createElement(qe,null),onClick:function(){e(),s(W.Text)}},d.toolbar.textSelectionTool),t.createElement(u,{checked:o===W.Hand,icon:t.createElement(De,null),onClick:function(){e(),s(W.Hand)}},d.toolbar.handTool),t.createElement(l,null),t.createElement(u,{checked:a===I.Vertical,icon:t.createElement(Ue,null),onClick:function(){return n(I.Vertical)}},d.toolbar.verticalScrolling),t.createElement(u,{checked:a===I.Horizontal,icon:t.createElement(He,null),onClick:function(){return n(I.Horizontal)}},d.toolbar.horizontalScrolling),t.createElement(u,{checked:a===I.Wrapped,icon:t.createElement(Pe,null),onClick:function(){return n(I.Wrapped)}},d.toolbar.wrappedScrolling),t.createElement(l,null),t.createElement(P,{target:h,content:v,closeOnClickOutside:!0,closeOnEscape:!0}))},offset:gt,closeOnClickOutside:!0,closeOnEscape:!0})},vt={left:0,top:8},Et=function(e){var n=e.currentPage,r=e.doc,o=e.fileName,l=e.scale,i=e.scrollMode,s=e.selectionMode,u=e.onChangeScrollMode,f=e.onChangeSelectionMode,m=e.onDownload,p=e.onFullScreen,d=e.onJumpTo,g=e.onJumpToMatch,h=e.onOpenFiles,v=e.onPrint,E=e.onRotate,C=e.onSearchFor,x=e.onToggleSidebar,b=e.onZoom,k=e.renderToolbar,w=t.useContext(le),S=t.useContext(a),y=t.useState(!1),M=y[0],T=y[1],L=t.useState(n),F=L[0],z=L[1],B=t.useState(!1),R=B[0],O=B[1],H=r.numPages,V=function(){var e=n+1;e<H&&(z(e),d(e))},A=function(){var e=n-1;e>=0&&(z(e),d(e))},J=function(){return d(0)},_=function(){return d(H-1)},j=function(){return w.toolbar.documentProperties};return k({currentPage:n,currentPageInput:t.createElement("input",{className:S.prefixClass+"-toolbar-current-page-input",type:"text",value:M?F+1:n+1,onChange:function(e){var t=parseInt(e.target.value,10);t>0&&t<=H&&z(t-1)},onFocus:function(){T(!0),z(n)},onBlur:function(){T(!1)},onKeyDown:function(e){switch(e.keyCode){case 38:A();break;case 40:V();break;case 13:d(F)}}}),documentPropertiesButton:t.createElement(P,{target:function(e){return t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:e},t.createElement(Ie,null)),content:j,offset:vt})},content:function(e){return t.createElement(rt,{doc:r,fileName:o,onToggle:e})},closeOnClickOutside:!0,closeOnEscape:!0}),downloadButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:m},t.createElement(Re,null)),content:function(){return w.toolbar.download},offset:vt}),fullScreenButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:p},t.createElement(Oe,null)),content:function(){return w.toolbar.fullScreen},offset:vt}),goToFirstPageButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:J},t.createElement(Ze,null)),content:function(){return w.toolbar.goToFirstPage},offset:vt}),goToLastPageButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:_},t.createElement(Be,null)),content:function(){return w.toolbar.goToLastPage},offset:vt}),handToolButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return f(W.Hand)},isSelected:s===W.Hand},t.createElement(De,null)),content:function(){return w.toolbar.handTool},offset:vt}),horizontalScrollingButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return u(I.Horizontal)},isSelected:i===I.Horizontal},t.createElement(He,null)),content:function(){return w.toolbar.horizontalScrolling},offset:vt}),moreActionsPopover:t.createElement(ht,{doc:r,fileName:o,scrollMode:i,selectionMode:s,onChangeScrollMode:u,onChangeSelectionMode:f,onJumpToFirstPage:J,onJumpToLastPage:_,onRotate:E}),nextPageButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:V},t.createElement(We,null)),content:function(){return w.toolbar.nextPage},offset:vt}),numPages:H,openFileButton:t.createElement(Qe,{onOpenFiles:h}),previousPageButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:A},t.createElement(Ae,null)),content:function(){return w.toolbar.previousPage},offset:vt}),printButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:v},t.createElement(Je,null)),content:function(){return w.toolbar.print},offset:vt}),rotateClockwiseButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return E(90)}},t.createElement(je,null)),content:function(){return w.toolbar.rotateForward},offset:vt}),rotateCounterclockwiseButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return E(-90)}},t.createElement(_e,null)),content:function(){return w.toolbar.rotateBackward},offset:vt}),searchPopover:t.createElement(lt,{doc:r,onJumpToMatch:g,onSearchFor:C}),textSelectionButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return f(W.Text)},isSelected:s===W.Text},t.createElement(qe,null)),content:function(){return w.toolbar.textSelectionTool},offset:vt}),toggleSidebarButton:t.createElement(D,{position:N.BottomLeft,target:t.createElement(c,{onClick:function(){O(!R),x()},isSelected:R},t.createElement(Ve,null)),content:function(){return w.toolbar.toggleSidebar},offset:vt}),verticalScrollingButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return u(I.Vertical)},isSelected:i===I.Vertical},t.createElement(Ue,null)),content:function(){return w.toolbar.verticalScrolling},offset:vt}),zoomInButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){var e,t=(e=l,it.find((function(t){return t>e}))||e);b(t)}},t.createElement(Ge,null)),content:function(){return w.toolbar.zoomIn},offset:vt}),zoomOutButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){var e=st(l);b(e)}},t.createElement(Ke,null)),content:function(){return w.toolbar.zoomOut},offset:vt}),zoomPopover:t.createElement(pt,{scale:l,onZoom:b}),wrappedScrollingButton:t.createElement(D,{position:N.BottomCenter,target:t.createElement(c,{onClick:function(){return u(I.Wrapped)},isSelected:i===I.Wrapped},t.createElement(Pe,null)),content:function(){return w.toolbar.wrappedScrolling},offset:vt})})},Ct=new RegExp(" "),xt=function(e){var n=e.doc,r=e.file,o=e.initialPage,c=e.layout,l=e.pageSize,i=e.render,s=e.selectionMode,u=e.onDocumentLoad,f=e.onOpenFile,m=e.onZoom,p=t.useContext(a),d=t.useRef(null),g=t.useState(l.scale),h=g[0],v=g[1],E=t.useState(0),C=E[0],x=E[1],b=t.useState(0),k=b[0],w=b[1],S=t.useState(Ct),M=S[0],P=S[1],T=t.useState({matchIndex:-1,pageIndex:-1}),N=T[0],L=T[1],F=t.useState(I.Vertical),z=F[0],B=F[1],R=t.useState(s),O=R[0],D=R[1],H=function(e){var n=t.useContext(a),r=t.useState(!1),o=r[0],c=r[1],l=t.useRef({top:0,left:0,x:0,y:0}),i=function(t){var n=e.current;n&&(n.scrollTop=l.current.top-(t.clientY-l.current.y),n.scrollLeft=l.current.left-(t.clientX-l.current.x))},s=function(){var t=e.current;t&&(t.classList.add(n.prefixClass+"-grab"),t.classList.remove(n.prefixClass+"-grabbing"),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s))},u=function(t){var r=e.current;o&&r&&(r.classList.remove(n.prefixClass+"-grab"),r.classList.add(n.prefixClass+"-grabbing"),t.preventDefault(),t.stopPropagation(),l.current={left:r.scrollLeft,top:r.scrollTop,x:t.clientX,y:t.clientY},document.addEventListener("mousemove",i),document.addEventListener("mouseup",s))};return t.useEffect((function(){var t=e.current;if(t)return o?t.classList.add(n.prefixClass+"-grab"):t.classList.remove(n.prefixClass+"-grab"),t.addEventListener("mousedown",u),function(){t.removeEventListener("mousedown",u)}}),[o]),{toggleDragScroll:c}}(d).toggleDragScroll,V=Y(d),A=V.isFullScreen,_=V.openFullScreen,j=V.closeFullScreen,q=y(),Z=n.numPages,U=l.pageWidth,G=l.pageHeight,K=Array(Z).fill(null),X=K.map((function(){return 0})),Q=K.map((function(){return t.useRef()})),$=function(e){if(0!==e.length){var t,n,a=e[0];if("pdf"===(t=r.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase())new Promise((function(e){var t=new FileReader;t.readAsArrayBuffer(a),t.onload=function(){var n=new Uint8Array(t.result);e(n)}})).then((function(e){f(a.name,e)}))}},ee=function(e,n){var r=t.useRef(0),a=t.useState(!1),o=a[0],c=a[1],l=function(e){e.preventDefault(),c(!1),r.current=0,e.dataTransfer&&n(e.dataTransfer.files)},i=function(e){e.preventDefault()},s=function(e){e.preventDefault(),r.current+=1,r.current<=1&&c(!0)},u=function(e){e.preventDefault(),r.current-=1,r.current<=0&&c(!1)};return t.useEffect((function(){var t=e.current;if(t)return t.addEventListener("drop",l),t.addEventListener("dragover",i),t.addEventListener("dragenter",s),t.addEventListener("dragleave",u),function(){t.removeEventListener("drop",l),t.removeEventListener("dragover",i),t.removeEventListener("dragenter",s),t.removeEventListener("dragleave",u)}}),[e.current]),{isDragging:o}}(d,(function(e){return $(e)})).isDragging,te=t.useState(fe.Inactive),ne=te[0],re=te[1],ae=function(e){if(!(e<0||e>=Z)){x(e);var t=d.current,n=Q[e].current;t&&n&&(t.scrollTop=n.offsetTop)}};t.useEffect((function(){u(n),o&&ae(o)}),[]);var oe=function(e){H(e===W.Hand),D(e)};t.useEffect((function(){s===W.Hand&&H(!0)}),[]);var le=function(){ve(r.name,r.data)},se=function(e){var t=d.current;if(t){var r=1;switch(e){case J.ActualSize:r=1;break;case J.PageFit:r=Math.min((t.offsetWidth-17)/U,(t.offsetHeight-16)/G);break;case J.PageWidth:r=(t.offsetWidth-17)/U;break;default:r=e}v(r),m(n,r)}},ue=function(e,t){X[e]=t;var n=X.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);x(n)},me=function(e){w(360===k||-360===k?e:k+e)},pe=function(e){var t=d.current;if(t){switch(e){case I.Vertical:t.classList.add(p.prefixClass+"-inner-pages-vertical"),t.classList.remove(p.prefixClass+"-inner-pages-horizontal"),t.classList.remove(p.prefixClass+"-inner-pages-wrapped");break;case I.Horizontal:t.classList.add(p.prefixClass+"-inner-pages-horizontal"),t.classList.remove(p.prefixClass+"-inner-pages-vertical"),t.classList.remove(p.prefixClass+"-inner-pages-wrapped");break;case I.Wrapped:t.classList.add(p.prefixClass+"-inner-pages-wrapped"),t.classList.remove(p.prefixClass+"-inner-pages-vertical"),t.classList.remove(p.prefixClass+"-inner-pages-horizontal")}B(e)}},de=function(e){ae(e.pageIndex),L(e)},he=function(e,t,r){var a=d.current;if(a){var o=e+1;n.getPage(o).then((function(n){var o=n.getViewport({scale:1}),c=0,l=t||0;switch(r){case J.PageFit:c=0,se(J.PageFit);break;default:c=(o.height-l)*h}var i=Q[e].current;i&&(a.scrollTop=i.offsetTop+c)}))}},Ee=function(){return re(fe.Preparing)};return i({viewer:c(q.opened,{attrs:{style:{position:"relative"}},children:t.createElement(ge,{doc:n,pageHeight:G,pageWidth:U,printStatus:ne,rotation:k,onCancel:function(){return re(fe.Inactive)},onStartPrinting:function(){return re(fe.Ready)}})},{attrs:{ref:d,style:{position:"relative"}},children:t.createElement(t.Fragment,null,ee&&t.createElement(ie,null),A&&t.createElement(Ce,{onClick:j}),Array(Z).fill(0).map((function(e,r){return t.createElement("div",{className:p.prefixClass+"-inner-page",key:"pagelayer-"+r,ref:function(e){Q[r].current=e}},t.createElement(ce,{doc:n,keywordRegexp:M,height:G,match:N,pageIndex:r,rotation:k,scale:h,width:U,onJumpToDest:he,onPageVisibilityChanged:ue}))})))},(function(e){return t.createElement(Et,{currentPage:C,doc:n,fileName:r.name,scale:h,scrollMode:z,selectionMode:O,onChangeScrollMode:pe,onChangeSelectionMode:oe,onDownload:le,onFullScreen:_,onJumpTo:ae,onJumpToMatch:de,onOpenFiles:$,onPrint:Ee,onRotate:me,onSearchFor:P,onToggleSidebar:q.toggle,onZoom:se,renderToolbar:e})}),{attrs:{},children:t.createElement(ze,{currentPage:C,doc:n,height:G,rotation:k,width:U,onJumpToDest:he,onJumpToPage:ae})}),doc:n,download:le,changeScrollMode:pe,changeSelectionMode:oe,jumpToPage:ae,print:Ee,rotate:me,zoom:se})},bt=function(e){var n=e.doc,r=e.render,o=t.useContext(a),c=t.useRef(null),l=t.useState({pageHeight:0,pageWidth:0,scale:1}),i=l[0],s=l[1];return t.useEffect((function(){n.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=c.current;if(a){var o=a.offsetWidth/n,l=st(Math.max(1,o));s({pageHeight:r,pageWidth:n,scale:l})}}))}),[n]),0===i.pageWidth?t.createElement("div",{className:o.prefixClass+"-page-size-calculator",ref:c},t.createElement(d,null)):r(i)},kt=function(){},wt=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return h(t,e),t}(kt),St=function(e){var n=e.verifyPasswordFn,r=t.useContext(le),o=t.useContext(a),c=t.useState(""),l=c[0],i=c[1];return t.createElement("div",{className:o.prefixClass+"-asking-password"},t.createElement("div",null,t.createElement("div",{className:o.prefixClass+"-asking-password-message"},r.askingPassword.requirePasswordToOpen,":"),t.createElement("div",{className:o.prefixClass+"-asking-password-input-container"},t.createElement("input",{className:o.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return i(e.target.value)}}),t.createElement("button",{className:o.prefixClass+"-asking-password-button",onClick:function(){return n(l)}},r.askingPassword.submit))))},yt=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return h(t,e),t}(kt),Mt=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return h(t,e),t}(kt),Pt=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return h(t,e),t}(kt),Tt=function(e){var n=e.verifyPasswordFn,r=t.useContext(le),o=t.useContext(a),c=t.useState(""),l=c[0],i=c[1];return t.createElement("div",{className:o.prefixClass+"-asking-password"},t.createElement("div",null,t.createElement("div",{className:o.prefixClass+"-asking-password-message"},r.wrongPassword.tryAgain,":"),t.createElement("div",{className:o.prefixClass+"-asking-password-input-container"},t.createElement("input",{className:o.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return i(e.target.value)}}),t.createElement("button",{className:o.prefixClass+"-asking-password-button",onClick:function(){return n(l)}},r.wrongPassword.submit))))},Nt=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return h(t,e),t}(kt),Lt=function(e){var n=e.file,o=e.render,c=t.useContext(a),l=t.useState(new Pt(0)),i=l[0],s=l[1];switch(t.useEffect((function(){s(new Pt(0));var e=r.getDocument(n);return e.onPassword=function(e,t){switch(t){case r.PasswordResponses.NEED_PASSWORD:s(new wt(e));break;case r.PasswordResponses.INCORRECT_PASSWORD:s(new Nt(e))}},e.promise.then((function(e){return s(new yt(e))}),(function(e){return s(new Mt(e.message||"Cannot load document"))})),function(){e.destroy()}}),[n]),!0){case i instanceof wt:return t.createElement(St,{verifyPasswordFn:i.verifyPasswordFn});case i instanceof Nt:return t.createElement(Tt,{verifyPasswordFn:i.verifyPasswordFn});case i instanceof yt:return o(i.doc);case i instanceof Mt:return t.createElement("div",{className:c.prefixClass+"-doc-error"},i.error);case i instanceof Pt:default:return t.createElement("div",{className:c.prefixClass+"-doc-loading"},t.createElement(d,null))}},Ft={askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},attachment:{clickToDownload:"Click to download",noAttachment:"There is no attachment"},bookmark:{noBookmark:"There is no bookmark"},main:{dragDropFile:"Drag and drop a PDF document here"},printProgress:{cancel:"Cancel",preparingDocument:"Preparing document ..."},property:{author:"Author",close:"Close",creationDate:"Creation date",creator:"Creator",fileName:"File name",fileSize:"File size",keywords:"Keywords",modificationDate:"Modification date",pageCount:"Page count",pdfProducer:"PDF producer",pdfVersion:"PDF Version",subject:"Subject",title:"Title"},search:{close:"Close",enterToSearch:"Enter to search",matchCase:"Match case",nextMatch:"Next match",previousMatch:"Previous match",wholeWords:"Whole words"},sidebar:{attachment:"Attachment",bookmark:"Bookmark",thumbnail:"Thumbnail"},toolbar:{documentProperties:"Document properties",download:"Download",fullScreen:"Full screen",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",handTool:"Hand tool",horizontalScrolling:"Horizontal scrolling",moreActions:"More actions",nextPage:"Next page",openFile:"Open file",previousPage:"Previous page",print:"Print",rotateBackward:"Rotate counterclockwise",rotateForward:"Rotate clockwise",search:"Search",textSelectionTool:"Text selection tool",toggleSidebar:"Toggle sidebar",verticalScrolling:"Vertical scrolling",zoomIn:"Zoom in",zoomOut:"Zoom out",wrappedScrolling:"Wrapped scrolling"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"},zoom:{actualSize:"Actual size",pageFit:"Page fit",pageWidth:"Page width"}},zt=function(e){var n=e.children,r=e.localization||Ft;return t.createElement(le.Provider,{value:r},n)},Bt=function(e){var n=e.children,r=e.prefixClass;return t.createElement(a.Provider,{value:{prefixClass:r||"viewer"}},n)};exports.Button=c,exports.Icon=i,exports.MenuDivider=l,exports.MenuItem=u,exports.Modal=P,exports.Popover=R,exports.Position=N,exports.PrimaryButton=f,exports.ProgressBar=m,exports.ScrollMode=I,exports.SelectionMode=W,exports.Separator=p,exports.SpecialZoomLevel=J,exports.Spinner=d,exports.Tooltip=D,exports.Worker=function(e){var n=e.children,a=e.workerUrl;return r.GlobalWorkerOptions.workerSrc=a,t.createElement(t.Fragment,null,n)},exports.default=function(e){var n,r=e.defaultScale,a=e.fileUrl,o=e.initialPage,c=e.layout,l=e.localization,i=e.prefixClass,s=e.render,u=e.selectionMode,f=void 0===u?W.Text:u,m=e.onDocumentLoad,p=void 0===m?function(){}:m,d=e.onZoom,g=void 0===d?function(){}:d,h=t.useState({data:a,name:a}),v=h[0],E=h[1],b=function(e,t,n,r,a){return C(e,t,n,r(x),a)},k=function(e,t){E({data:t,name:e})},w=s||function(e){return e.viewer};return t.createElement(Bt,{prefixClass:i},t.createElement(zt,{localization:l},t.createElement(Lt,{file:v.data,render:(n=w,function(e){return t.createElement(bt,{doc:e,render:function(a){var l=a;return l.scale=r||a.scale,t.createElement(xt,{doc:e,file:v,initialPage:o,layout:c||b,pageSize:l,render:n,selectionMode:f,onDocumentLoad:p,onOpenFile:k,onZoom:g})}})})})))},exports.defaultLayout=C,exports.defaultToolbar=x;
